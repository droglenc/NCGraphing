---
layout: page
title: Exercise - Quarterbacks
author: Derek H. Ogle
css: "/css/modules.css"
output:
  html_document:
    self_contained: false
    lib_dir: zlibs
---

```{r echo=FALSE, eval=FALSE}
# Renders an appropriate HTML file for the webpage (CTRL-S and CTRL-ALT-C)
source(file.path(here::here(),"rhelpers/rhelpers.R"))
fnm <- "CE_Quarterbacks"
dnm <- "modules/Univariate_Density"
modHTML(file.path(here::here(),dnm,fnm))
FSA::purl2(file.path(here::here(),dnm,paste0(fnm,".Rmd")),
           moreItems=c("source","setwd","fnm","dnm","opts_chunk","CTRL-S"))
```
```{r echo=FALSE}
knitr::opts_chunk$set(echo=FALSE,fig.width=5,fig.height=5,out.width="60%")
library(tidyverse)
qbs <- read.csv("https://derekogle.com/NCGraphing/modules/zdata/Data_quarterbacks_2019.csv",
                stringsAsFactors=FALSE) %>%
  filter(Conf %in% c("ACC","Big 12","Big Ten","Pac-12","SEC")) %>%
  mutate(Conf=factor(Conf))
```

----

## Background
<img src="../zimgs/qb.jpg" alt="Quarterback" class="img-right">
This is the same data set [introduced here](../Intro/CE_Quarterbacks.html) (which included code for accessing the data). If you did those exercises, then you can use the same data and package (e.g., `tidyverse`) loading portion of your script.

&nbsp;

&nbsp;

## Total Passing Yards 1
Construct `ggplot2` code to match the graph below (as closely as you can).

```{r Quarterbacks_PYds1}
PYds1 <- ggplot(data=qbs,mapping=aes(x=PYds)) +
  geom_histogram(color="gray30",fill="gray70",
             binwidth=200,boundary=0,closed="left") +
  scale_x_continuous(name="Total Passing Yards",breaks=seq(1000,6000,500),
    limits=c(1000,6000),expand=expansion(mult=c(0,0))) +
  scale_y_continuous(name="Frequency of Quarterbacks",
    expand=expansion(mult=c(0,0.05))) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.minor.y=element_blank())
PYds1
```

"Play with" `binwidth=` in `geom_histogram()` to feel how this changes the plot. What value do you prefer?

&nbsp;

## Total Passing Yards 2
Construct `ggplot2` code to match the graph below (as closely as you can). [*HINT: Copy your code from above and then modify.*]

```{r Quarterbacks_PYds2}
PYds2 <- ggplot(data=qbs,mapping=aes(x=PYds)) +
  geom_density(color="gray30",fill="gray70",adjust=0.25) +
  scale_x_continuous(name="Total Passing Yards (mm)",breaks=seq(1000,6000,500),
                     limits=c(1000,6000),expand=expansion(mult=c(0,0))) +
  scale_y_continuous(name="Density of Quarterbacks",expand=expansion(mult=c(0,0.05))) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
PYds2
```

"Play with" `adjust=` in `geom_density()` to feel how this changes the plot. What value do you prefer?

&nbsp;

## Total Passing Yards 3
Construct `ggplot2` code to match the graph below (as closely as you can ... *you don't have to match my colors, but do use other than the default colors*).

```{r Quarterbacks_PYds3,fig.width=6.5,out.width="75%"}
PYds3 <- ggplot(data=qbs,mapping=aes(x=PYds,color=Conf,fill=Conf)) +
  geom_density(alpha=0.5) +
  scale_x_continuous(name="Total Passing Yards (mm)",breaks=seq(1000,6000,500),
                     limits=c(1000,6000),expand=expansion(mult=c(0,0))) +
  scale_y_continuous(name="Density of Quarterbacks",expand=expansion(mult=c(0,0.05))) +
  scale_fill_manual(name="Location",
                    values=c("#000000","#E69F00","#56B4E9","#009E73","#F0E442")) +
  scale_color_manual(name="Location",
                     values=c("#000000","#E69F00","#56B4E9","#009E73","#F0E442")) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
PYds3
```

&nbsp;

## Total Passing Yards 4
Construct `ggplot2` code to match the graph below (as closely as you can).

```{r Quarterbacks_PYds4}
PYds4 <- ggplot(data=qbs,mapping=aes(x=Conf,y=PYds)) +
  geom_boxplot(fill="lightsalmon") +
  scale_x_discrete(name="Conference") +
  scale_y_continuous(name="Total Passing Yards (mm)") +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
PYds4
```

&nbsp;

## Total Passing Yards 5
Construct `ggplot2` code to match the graph below (as closely as you can). [*HINT: Copy your code from above and then modify.*]

```{r Quarterbacks_PYds5}
PYds5 <- ggplot(data=qbs,mapping=aes(x=Conf,y=PYds)) +
  geom_violin(fill="lightsalmon",trim=FALSE) +
  scale_x_discrete(name="Conference") +
  scale_y_continuous(name="Total Passing Yards (mm)") +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
PYds5
```

&nbsp;


## Total Passing Yards 6
Construct `ggplot2` code to match the graph below (as closely as you can ... *you don't have to match my colors, but do use other than the default colors*). [*HINT: Copy your code from above and then modify.*]

```{r Quarterbacks_PYds6}
PYds6 <- ggplot(data=qbs,mapping=aes(x=Conf,y=PYds,color=Conf,fill=Conf)) +
  geom_violin(trim=FALSE) +
  scale_x_discrete(name="Conference") +
  scale_y_continuous(name="Total Passing Yards (mm)") +
  scale_fill_manual(values=c("#000000","#E69F00","#56B4E9","#009E73","#F0E442")) +
  scale_color_manual(values=c("#000000","#E69F00","#56B4E9","#009E73","#F0E442")) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank()) +
  theme(legend.position="none")
PYds6
```

&nbsp;


## Total Passing Yards 7
Construct `ggplot2` code to match the graph below (as closely as you can). [*HINT: Copy your code from above and then modify.*]

```{r Quarterbacks_PYds7}
PYds7 <- ggplot(data=qbs,mapping=aes(y=Conf,x=PYds,color=Conf,fill=Conf)) +
  geom_violin(trim=FALSE) +
  scale_y_discrete(name="Conference") +
  scale_x_continuous(name="Total Passing Yards (mm)") +
  scale_fill_manual(values=c("#000000","#E69F00","#56B4E9","#009E73","#F0E442")) +
  scale_color_manual(values=c("#000000","#E69F00","#56B4E9","#009E73","#F0E442")) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank()) +
  theme(legend.position="none")
PYds7
```

This plot can also[^coord_flip] be produced from your "Quarterbacks Total Passing Yards 6" plot with the addition of one more line of code. Perform an internet search to see if you can find this method for flipping the coordinates.


### Footnotes
[^coord_flip]: Assuming that you did not do it this easier way the first time.
