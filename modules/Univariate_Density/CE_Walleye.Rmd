---
layout: page
title: Exercise - Walleye
author: Derek H. Ogle
css: "/css/modules.css"
output:
  html_document:
    self_contained: false
    lib_dir: zlibs
---

```{r echo=FALSE, eval=FALSE}
# Renders an appropriate HTML file for the webpage (CTRL-S and CTRL-ALT-C)
source(file.path(here::here(),"rhelpers/rhelpers.R"))
fnm <- "CE_Walleye"
dnm <- "modules/Univariate_Density"
modHTML(file.path(here::here(),dnm,fnm))
FSA::purl2(file.path(here::here(),dnm,paste0(fnm,".Rmd")),
           moreItems=c("source","setwd","fnm","dnm","opts_chunk","CTRL-S"))
```
```{r echo=FALSE}
knitr::opts_chunk$set(echo=FALSE,fig.width=5,fig.height=5,out.width="60%")
library(tidyverse)
#!# Set to your own working directory and have just your filename below.
wae <- read.csv("https://raw.githubusercontent.com/droglenc/FSAdata/master/data-raw/WalleyeErie2.csv") %>%
  filter(year==2003) %>%
  mutate(loc=plyr::mapvalues(loc,from=c(1,2,3),
              to=c("Toledo-Huron","Huron-Fairport","Fairport-Conneaut")),
         loc=factor(loc))
```

----

## Background
<img src="../zimgs/Walleye.jpg" alt="Walleye" class="img-right">
This is the same data set [introduced here](../Intro2/CE_Walleye.html) (which included code for accessing the data). If you did those exercises, then you can use the same data and package (e.g., `tidyverse`) loading portion of your script. If you did not do those exercises then please see that page for the instructions on loading the data.

&nbsp;


## Total Length 1
Construct `ggplot2` code to match the graph below (as closely as you can).

```{r Walleye_tl1}
tl1 <- ggplot(data=wae,mapping=aes(x=tl)) +
  geom_histogram(color="gray30",fill="gray70",binwidth=10,boundary=0,closed="left") +
  scale_x_continuous(name="Total Length (mm)",breaks=seq(0,700,50),
    expand=expansion(mult=c(0,0))) +
  scale_y_continuous(name="Frequency of Walleye",expand=expansion(mult=c(0,0.05))) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.minor.y=element_blank())
tl1
```

"Play with" `binwidth=` in `geom_histogram()` to feel how this changes the plot. What value do you prefer?

&nbsp;

## Total Length 2
Construct `ggplot2` code to match the graph below (as closely as you can). [*HINT: Copy your code from above and then modify.*]

```{r Walleye_tl2}
tl2 <- ggplot(data=wae,mapping=aes(x=tl)) +
  geom_density(color="gray30",fill="gray70",adjust=0.25) +
  scale_x_continuous(name="Total Length (mm)",breaks=seq(0,700,50),
                     expand=expansion(mult=c(0,0))) +
  scale_y_continuous(name="Density of Walleye",expand=expansion(mult=c(0,0.05))) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
tl2
```

"Play with" `adjust=` in `geom_density()` to feel how this changes the plot. What value do you prefer?

&nbsp;

## Total Length 3
Construct `ggplot2` code to match the graph below (as closely as you can ... *you don't have to match my colors, but do use other than the default colors*).

```{r Walleye_tl3,fig.width=6.5,out.width="75%"}
tl3 <- ggplot(data=wae,mapping=aes(x=tl,color=loc,fill=loc)) +
  geom_density(alpha=0.5) +
  scale_x_continuous(name="Total Length (mm)",breaks=seq(0,700,50),
                     expand=expansion(mult=c(0,0))) +
  scale_y_continuous(name="Density of Walleye",expand=expansion(mult=c(0,0.05))) +
  scale_fill_manual(name="Location",values=c("#E69F00","#0072B2","#CC79A7")) +
  scale_color_manual(name="Location",values=c("#E69F00","#0072B2","#CC79A7")) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
tl3
```

&nbsp;

## Total Length 4
Construct `ggplot2` code to match the graph below (as closely as you can).

```{r Walleye_tl4}
tl4 <- ggplot(data=wae,mapping=aes(x=loc,y=tl)) +
  geom_boxplot(fill="lightsalmon") +
  scale_x_discrete(name="Location of Capture") +
  scale_y_continuous(name="Total Length (mm)") +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
tl4
```

&nbsp;

## Total Length 5
Construct `ggplot2` code to match the graph below (as closely as you can). [*HINT: Copy your code from above and then modify.*]

```{r Walleye_tl5}
tl5 <- ggplot(data=wae,mapping=aes(x=loc,y=tl)) +
  geom_violin(fill="lightsalmon",trim=FALSE) +
  scale_x_discrete(name="Location of Capture") +
  scale_y_continuous(name="Total Length (mm)") +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank())
tl5
```

&nbsp;


## Total Length 6
Construct `ggplot2` code to match the graph below (as closely as you can ... *you don't have to match my colors, but do use other than the default colors*). [*HINT: Copy your code from above and then modify.*]

```{r Walleye_tl6}
tl6 <- ggplot(data=wae,mapping=aes(x=loc,y=tl,color=loc,fill=loc)) +
  geom_violin(trim=FALSE) +
  scale_x_discrete(name="Location of Capture") +
  scale_y_continuous(name="Total Length (mm)") +
  scale_fill_manual(values=c("#E69F00","#0072B2","#CC79A7")) +
  scale_color_manual(values=c("#E69F00","#0072B2","#CC79A7")) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank()) +
  theme(legend.position="none")
tl6
```

&nbsp;


## Total Length 7
Construct `ggplot2` code to match the graph below (as closely as you can). [*HINT: Copy your code from above and then modify.*]

```{r Walleye_tl7}
tl7 <- ggplot(data=wae,mapping=aes(y=loc,x=tl,color=loc,fill=loc)) +
  geom_violin(trim=FALSE) +
  scale_y_discrete(name="Location of Capture") +
  scale_x_continuous(name="Total Length (mm)") +
  scale_fill_manual(values=c("#E69F00","#0072B2","#CC79A7")) +
  scale_color_manual(values=c("#E69F00","#0072B2","#CC79A7")) +
  theme_bw() +  
  theme(panel.grid.major.x=element_blank(),panel.grid.minor.x=element_blank(),
        panel.grid.major.y=element_blank(),panel.grid.minor.y=element_blank()) +
  theme(legend.position="none")
tl7
```

This plot can also[^coord_flip] be produced from your "Walleye Total Length 6" plot with the addition of one more line of code. Perform an internet search to see if you can find this method for flipping the coordinates.


&nbsp;

## BONUS - Total Length 8
Construct `ggplot2` code to match the graph below (as closely as you can). *Hints: (1) This plot has been "faceted", which may help your Google search, (2) this can be created from your "Total Length 1" plot with one extra function of code (assuming you saved that plot into an object), and (3) change to `fig.height=8` in the code chunk header for this plot.*

```{r Walleye_tl8, fig.height=}
tl8 <- tl1 +
  facet_grid(row=vars(loc))
tl8
```

&nbsp;

### Footnotes
[^coord_flip]: Assuming that you did not do it this easier way the first time.
